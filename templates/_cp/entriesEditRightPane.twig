{% import "_includes/forms" as forms %}

<div id='localeSync' class='pane meta'>
  {{ forms.lightswitchField({
    label: 'Sync Locales'|t,
    id: 'localeSync-toggle',
    name: 'localeSync[enabled]',
    value: enabled,
    on: enabled,
    toggle: '#localeSync-options',
  }) }}
  <div class="meta {% if not enabled %}hidden{% endif %}" id="localeSync-options">
    {% set label %}
      {{ 'Overwrite'|t }}
      <div class="info">
        <span class="warning">All translatable fields in other locales will be <strong>overwritten</strong> with this content.</span>
        Without this selection, only fields with identical content (before these edits) will be synced.
      </div>
    {% endset %}

    {{ forms.lightswitchField({
      label: label,
      name: 'localeSync[overwrite]',
      id: 'localeSync-overwrite',
      on: false,
    })}}

    {# Intentionally passing non-empty array to uncheck "all" #}
    {{ forms.checkboxSelectField({
      label: "Locales"|t,
      id: 'localeSync-targets',
      name: 'localeSync[targets]',
      options: targets.options,
      values: targets.values|default(['']),
    })}}
  </div>
</div>
